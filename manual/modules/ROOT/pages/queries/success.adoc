= Query answers
:page-aliases: {page-version}@manual::objects/data.adoc, {page-version}@manual::objects/explanation.adoc, {page-version}@manual::objects/overview.adoc, {page-version}@manual::objects/schema.adoc

[IMPORTANT]
====
Under construction.
====

This page gives a brief overview of answer types returned by the server when running queries.

== Query types

xref:{page-version}@typeql::index.adoc#queries[Data pipelines] produce query answers. Currently TypeDB supports two answers formats: concept rows (the native TypeDB format) and JSON.

In contrast, xref:{page-version}@typeql::index.adoc#queries[schema queries] do not produce answers, but only return success/failures notifications.

== Concept rows

Any valid data pipeline not ending with a `fetch` stage will produce answers in xref:{page-version}@manual::CRUD/outputs.adoc[concept row format].

== JSON

A data pipeline ending with a `fetch` stage will produce JSON answers.



// TODO: Can use this form of showing how to send queries in different clients! Uncomment the whole thing until the "TODO END"!
// The easiest way to send an insert query is to use Studio or Console:
//
// [tabs]
// ====
// Studio::
// +
// --
// Follow the xref:{page-version}@manual::studio.adoc#_connect_to_typedb[Studio manual]
// to connect to TypeDB and select a project folder.
// Then use the steps below:
//
// . Use a drop-down list in the top toolbar to select a database.
// . Switch to the `write` transaction type.
// . Open a new tab and insert or type in an insert stage, for example:
// +
// .TypeQL insert stage
// [,typeql]
// ----
// include::{page-version}@manual::example$tql/insert_data.tql[tags=simple-insert]
// ----
// . Run the query by clicking the image:{page-version}@home::studio-icons/svg/studio_run.svg[width=24]
// btn:[Run Query] button.
// . Commit the changes by clicking the image:{page-version}@home::studio-icons/svg/studio_check.svg[width=24] btn:[Commit query] button.
// --
//
// Console::
// +
// --
// . Open a `write` transaction to the selected database (e.g., `sample_db`):
// +
// [,bash]
// ----
// transaction sample_db write
// ----
// . Send the insert query:
// +
// [,typeql]
// ----
// include::{page-version}@manual::example$tql/insert_data.tql[tags=simple-insert]
// ----
// +
// Push btn:[Enter] twice to send the query.
// . Commit the changes:
// +
// [,bash]
// ----
// commit
// ----
// --
// ====
//
// To send an insert stage programmatically, use xref:{page-version}@drivers::index.adoc[drivers]:
//
// [tabs]
// ====
// Rust::
// +
// --
// Follow the xref:{page-version}@manual::connecting/connection.adoc[connection guide]
// to connect the `driver` to a TypeDB server.
//
// [subs="macros, post_replacements, replacements"]
// ++++
// Open a write transaction to the selected database and use the
// xref:{page-version}@drivers::rust/api-reference.adoc#_struct_Transaction_query__[transaction.query()]
// method:
// ++++
//
// // TODO: Reference a single partials file.
// [,rust,indent=0]
// ----
// let transaction = driver.transaction(DB_NAME, TransactionType::Write).await.unwrap();
// {
//     let insert_query = r#"
// include::{page-version}@manual::example$tql/insert_data.tql[tags=simple-insert]
//     "#;
//     let _answer = transaction.query(insert_query).await.unwrap();
//     transaction.commit().await.unwrap();
// }
// ----
// --
//
// Python::
// +
// --
// Follow the xref:{page-version}@manual::connecting/connection.adoc[connection guide]
// to connect the `driver` to a TypeDB server.
//
// [subs="macros, post_replacements, replacements"]
// ++++
// Open a write transaction to the selected database and use the
// xref:{page-version}@drivers::python/api-reference.adoc#_Transaction_query[transaction.query()]
// method:
// ++++
//
// // TODO: Reference a single partials file.
// [,python,indent=0]
// ----
// with driver.transaction(DB_NAME, TransactionType.WRITE) as tx:
//     insert_query = """
// include::{page-version}@manual::example$tql/insert_data.tql[tags=simple-insert]
//     """
//     tx.query(insert_query).resolve()
//     tx.commit()
// ----
// --
//
// Java::
// +
// --
// Follow the xref:{page-version}@manual::connecting/connection.adoc[connection guide]
// to connect the `driver` to a TypeDB server.
//
// [subs="macros, post_replacements, replacements"]
// ++++
// Open a write transaction to the selected database and use the
// xref:{page-version}@drivers::java/api-reference.adoc#_Transaction_query__java_lang_String[transaction.query()]
// method:
// ++++
//
// // TODO: Reference a single partials file.
// [,java,indent=0]
// ----
// try (TypeDBTransaction tx = session.transaction(DB_NAME, Transaction.Type.WRITE)) {
//     String insertQuery = """
// include::{page-version}@manual::example$tql/insert_data.tql[tags=simple-insert]
//     """;
//     tx.query(insertQuery).resolve();
//     tx.commit();
// }
// ----
// --
//
// // TODO: Update and reintroduce
// // Node.js::
// // +
// // --
// // Follow the xref:{page-version}@manual::connecting/connection.adoc[connection guide]
// // to connect the `driver` to a TypeDB server.
// //
// // [subs="macros, post_replacements, replacements"]
// // ++++
// // Open a data session to the selected database,
// // open a write transaction, and use the
// // xref:2.x@drivers::nodejs/api-reference.adoc#_QueryManager_insert__query_string__options_TypeDBOptions[transaction.query.insert()]
// // method:
// // ++++
// //
// // [,js,indent=0]
// // ----
// // include::{page-version}@manual::partial$nodejs-manual-code.js[tags=insert]
// // ----
// // --
//
// // TODO: Update and reintroduce
// // C#::
// // +
// // --
// // Follow the xref:{page-version}@manual::connecting/connection.adoc[connection guide]
// // to connect the `driver` to a TypeDB server.
// // [subs="macros, post_replacements, replacements"]
// // ++++
// // Open a data session to the selected database,
// // open a write transaction, and use the
// // xref:2.x@drivers::csharp/api-reference.adoc#_ConceptMapIterable_TypeDBQueryManagerinsert___const_stdstring__query__const_Options__options__Options_____const[`transaction.Query.Insert()]
// // method:
// // ++++
// //
// // [,csharp,indent=0]
// // ----
// // include::{page-version}@manual::partial$csharp-manual-code.cs[tags=insert]
// // ----
// // --
//
// // TODO: Update and reintroduce
// // C++::
// // +
// // --
// // Follow the xref:{page-version}@manual::connecting/connection.adoc[connection guide]
// // to connect the `driver` to a TypeDB server.
// //
// // [subs="macros, post_replacements, replacements"]
// // ++++
// // Open a data session to the selected database,
// // open a write transaction, and use the
// // xref:2.x@drivers::cpp/api-reference.adoc#_ConceptMapIterable_TypeDBQueryManagerinsert___const_stdstring__query__const_Options__options__Options_____const[`transaction.query.insert()`]
// // method:
// // ++++
// //
// // [,cpp,indent=0]
// // ----
// // include::{page-version}@manual::partial$cpp-manual-code.cpp[tags=options,indent=0]
// // include::{page-version}@manual::partial$cpp-manual-code.cpp[tags=insert,indent=0]
// // ----
// // --
//
// // TODO: Update and reintroduce
// // C::
// // +
// // --
// // Follow the xref:{page-version}@manual::connecting/connection.adoc[connection guide]
// // to connect the `driver` to a TypeDB server.
// //
// // [subs="macros, post_replacements, replacements"]
// // ++++
// // Open a data session to the selected database,
// // open a write transaction, and use the
// // xref:2.x@drivers::c/api-reference.adoc#_query_insert[`query_insert()`]
// // function:
// // ++++
// //
// // [,c,indent=0]
// // ----
// // include::{page-version}@manual::partial$c-manual-code.c[tags=options,indent=0]
// // include::{page-version}@manual::partial$c-manual-code.c[tags=insert,indent=0]
// // ----
// // --
// ====
// TODO END: stop uncommenting
